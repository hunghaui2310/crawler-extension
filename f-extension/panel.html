<!--
 Copyright 2023 Google LLC

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

     https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
  -->

<!doctype html>
<html>

<head>
  <meta charset="utf8" />
  <!-- <script src="./libs/sockjs-client.min.js"></script> -->
  <!-- <script src="./libs/stomp.min.js"></script> -->
  <link rel="stylesheet" href="bulma.min.css">
  <style>
    html {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
    }

    body {
      margin: 0;
      padding: 0;
      width: 100%;
    }

    #container {
      display: flex;
      flex: 1;
      width: 100%;
    }

    #dowload-container {
      border-top: solid 1px #ccc;
      padding-top: 10px;
    }

    .progress {
      border: 0;
      border-radius: 0px !important;
    }

    .section {
      border: 2px #079b85 solid;
    }

    .overlay {
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      position: fixed;
      background-color: rgb(245 245 245 / 71%);
    }

    .overlay__inner {
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      position: absolute;
    }

    .overlay__content {
      display: flex;
      justify-content: center;
      flex-direction: column;
      align-items: center;
      left: 50%;
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      font-size: 25px;
      font-weight: bold;
      color: #079b85;
    }

    .spinner {
      width: 75px;
      height: 75px;
      display: inline-block;
      border-width: 3px;
      border-color: rgba(255, 255, 255, 0.05);
      border-top-color: #079b85;
      animation: spin 1s infinite linear;
      border-radius: 100%;
      border-style: solid;
    }

    @keyframes spin {
      100% {
        transform: rotate(360deg);
      }
    }
  </style>
</head>

<body>
  <progress id="progress-bar" class="progress is-small is-primary is-hidden" max="100"></progress>
  <div class="container mt-5">
    <section class="section is-medium">
      <h1 class="title has-text-centered">Hệ thống thu thập dữ liệu</h1>
      <div class="columns">
        <div class="column">
          <button id='crawl-shop' class="button is-primary is-fullwidth">Thu thập shop</button>
        </div>
        <div class='column'>
          <button id='crawl-items-shop' class="button is-primary is-fullwidth">Thu thập thông tin shop</button>
        </div>
        <div class="column is-two-fifths">
          <div class="select is-primary">
            <select name="category" id="category-list">
            </select>
          </div>
        </div>
      </div>
      <div id="result-crawl">
      </div>
      <div id="output">
      </div>
      <br />
      <div class="columns">
        <div class="column">
          <button id='download-excel-all' class="button is-primary is-fullwidth">
            Tải xuống tất cả dữ liệu
          </button>
        </div>
        <div class="column">
          <button id='download-excel' class="button is-primary is-fullwidth">
            Tải xuống theo danh mục
          </button>
        </div>
        <div class="column is-two-fifths">
          <div class="select is-primary">
            <select name="category-download" id="category-list-download"></select>
          </div>
        </div>
      </div>
      <!-- <div class="columns">
        <div class="column">
          <button id='reset-account' class="button is-primary is-fullwidth">Reset tài khoản</button>
        </div>
        <div class='column'>
          <button id='reset-category' class="button is-primary is-fullwidth">Reset danh mục</button>
        </div>
      </div> -->
    </section>
    <button id='button_message' class="button is-primary is-fullwidth">
      test
    </button>
  </div>
    <!-- <button id='crawl-detail-item' class="button is-primary">Crawl detail Item</button> -->
    <!-- <button id='send'>Send</button> -->
  </div>
  <div id="overlay-loading" class="overlay is-hidden">
    <div class="overlay__inner">
      <div class="overlay__content">
        <span class="spinner"></span>
        <span class="mt-1" id='download-text-content'>Đang tải xuống ...</span>
        <div id="warning-download" class="mt-1 is-hidden">Lượng dữ liệu lớn có thể mất nhiều thời gian để tải xuống! Vui lòng đợi!</div>
      </div>
    </div>
  </div>
  <!-- <button id="press">Press to Scroll</button> -->
  <script type="application/javascript" src="storage.js"></script>
  <script type="application/javascript" src="api.js"></script>
  <script type="application/javascript" src="helper.js"></script>
  <script type="application/javascript" src="panel.js"></script>
  <script type="application/javascript" src="crawl-shop-items.js"></script>
  <script type="application/javascript" src="detail-item.js"></script>
  <script type="application/javascript" src="excel.js"></script>
</body>

</html>